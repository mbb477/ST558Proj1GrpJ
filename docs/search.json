[
  {
    "objectID": "ST558Proj1.html",
    "href": "ST558Proj1.html",
    "title": "ST558 Project 1",
    "section": "",
    "text": "Warning: package 'tidyverse' was built under R version 4.2.3\n\n\nWarning: package 'ggplot2' was built under R version 4.2.3\n\n\nWarning: package 'tibble' was built under R version 4.2.3\n\n\nWarning: package 'tidyr' was built under R version 4.2.3\n\n\nWarning: package 'readr' was built under R version 4.2.3\n\n\nWarning: package 'purrr' was built under R version 4.2.3\n\n\nWarning: package 'dplyr' was built under R version 4.2.3\n\n\nWarning: package 'stringr' was built under R version 4.2.3\n\n\nWarning: package 'forcats' was built under R version 4.2.3\n\n\nWarning: package 'lubridate' was built under R version 4.2.3\n\n\n\nlibrary(tidyverse)\nlibrary(readr)\ncensus_1a_original &lt;- read_csv(\"https://www4.stat.ncsu.edu/~online/datasets/EDU01a.csv\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010187N1, EDU010187N2, EDU010188N1, EDU010188...\ndbl (20): EDU010187F, EDU010187D, EDU010188F, EDU010188D, EDU010189F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nhead(census_1a_original)\n\n# A tibble: 6 × 42\n  Area_name     STCOU EDU010187F EDU010187D EDU010187N1 EDU010187N2 EDU010188F\n  &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt;\n1 UNITED STATES 00000          0   40024299 0000        0000                 0\n2 ALABAMA       01000          0     733735 0000        0000                 0\n3 Autauga, AL   01001          0       6829 0000        0000                 0\n4 Baldwin, AL   01003          0      16417 0000        0000                 0\n5 Barbour, AL   01005          0       5071 0000        0000                 0\n6 Bibb, AL      01007          0       3557 0000        0000                 0\n# ℹ 35 more variables: EDU010188D &lt;dbl&gt;, EDU010188N1 &lt;chr&gt;, EDU010188N2 &lt;chr&gt;,\n#   EDU010189F &lt;dbl&gt;, EDU010189D &lt;dbl&gt;, EDU010189N1 &lt;chr&gt;, EDU010189N2 &lt;chr&gt;,\n#   EDU010190F &lt;dbl&gt;, EDU010190D &lt;dbl&gt;, EDU010190N1 &lt;chr&gt;, EDU010190N2 &lt;chr&gt;,\n#   EDU010191F &lt;dbl&gt;, EDU010191D &lt;dbl&gt;, EDU010191N1 &lt;chr&gt;, EDU010191N2 &lt;chr&gt;,\n#   EDU010192F &lt;dbl&gt;, EDU010192D &lt;dbl&gt;, EDU010192N1 &lt;chr&gt;, EDU010192N2 &lt;chr&gt;,\n#   EDU010193F &lt;dbl&gt;, EDU010193D &lt;dbl&gt;, EDU010193N1 &lt;chr&gt;, EDU010193N2 &lt;chr&gt;,\n#   EDU010194F &lt;dbl&gt;, EDU010194D &lt;dbl&gt;, EDU010194N1 &lt;chr&gt;, EDU010194N2 &lt;chr&gt;, …\n\n#view(census_1a_original)\n\n\n\n\n\ncensus_1a_condensed &lt;- census_1a_original |&gt;\n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(area_name = Area_name) |&gt;\n  pivot_longer(cols = 3:12, \n               names_to = \"item_id\", \n               values_to = \"measurement\")\nhead(census_1a_condensed) \n\n# A tibble: 6 × 4\n  area_name     STCOU item_id    measurement\n  &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt;\n1 UNITED STATES 00000 EDU010187D    40024299\n2 UNITED STATES 00000 EDU010188D    39967624\n3 UNITED STATES 00000 EDU010189D    40317775\n4 UNITED STATES 00000 EDU010190D    40737600\n5 UNITED STATES 00000 EDU010191D    41385442\n6 UNITED STATES 00000 EDU010192D    42088151\n\n#view(census_1a_condensed)\n\n\n\n\n\ncensus_1a_add &lt;- census_1a_condensed |&gt;\n  mutate(year = (as.numeric(substr(item_id, 8, 9)) + 1900),\n         survey_code = substr(item_id, 1, 7))\ncensus_1a_add\n\n# A tibble: 31,980 × 6\n   area_name     STCOU item_id    measurement  year survey_code\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      \n 1 UNITED STATES 00000 EDU010187D    40024299  1987 EDU0101    \n 2 UNITED STATES 00000 EDU010188D    39967624  1988 EDU0101    \n 3 UNITED STATES 00000 EDU010189D    40317775  1989 EDU0101    \n 4 UNITED STATES 00000 EDU010190D    40737600  1990 EDU0101    \n 5 UNITED STATES 00000 EDU010191D    41385442  1991 EDU0101    \n 6 UNITED STATES 00000 EDU010192D    42088151  1992 EDU0101    \n 7 UNITED STATES 00000 EDU010193D    42724710  1993 EDU0101    \n 8 UNITED STATES 00000 EDU010194D    43369917  1994 EDU0101    \n 9 UNITED STATES 00000 EDU010195D    43993459  1995 EDU0101    \n10 UNITED STATES 00000 EDU010196D    44715737  1996 EDU0101    \n# ℹ 31,970 more rows\n\n\n\n\n\n\ncounty_data &lt;- census_1a_add |&gt;\n  filter(grepl(pattern = \", \\\\w\\\\w\", area_name))\n\nnoncounty_data &lt;- census_1a_add |&gt;\n  filter(!grepl(pattern = \", \\\\w\\\\w\", area_name))\n\nclass(county_data) &lt;- c(\"county\", class(county_data))\nclass(noncounty_data) &lt;- c(\"state\", \n                           class(noncounty_data))"
  },
  {
    "objectID": "ST558Proj1.html#data-set-edu01a",
    "href": "ST558Proj1.html#data-set-edu01a",
    "title": "ST558 Project 1",
    "section": "",
    "text": "Warning: package 'tidyverse' was built under R version 4.2.3\n\n\nWarning: package 'ggplot2' was built under R version 4.2.3\n\n\nWarning: package 'tibble' was built under R version 4.2.3\n\n\nWarning: package 'tidyr' was built under R version 4.2.3\n\n\nWarning: package 'readr' was built under R version 4.2.3\n\n\nWarning: package 'purrr' was built under R version 4.2.3\n\n\nWarning: package 'dplyr' was built under R version 4.2.3\n\n\nWarning: package 'stringr' was built under R version 4.2.3\n\n\nWarning: package 'forcats' was built under R version 4.2.3\n\n\nWarning: package 'lubridate' was built under R version 4.2.3\n\n\n\nlibrary(tidyverse)\nlibrary(readr)\ncensus_1a_original &lt;- read_csv(\"https://www4.stat.ncsu.edu/~online/datasets/EDU01a.csv\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010187N1, EDU010187N2, EDU010188N1, EDU010188...\ndbl (20): EDU010187F, EDU010187D, EDU010188F, EDU010188D, EDU010189F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nhead(census_1a_original)\n\n# A tibble: 6 × 42\n  Area_name     STCOU EDU010187F EDU010187D EDU010187N1 EDU010187N2 EDU010188F\n  &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt;\n1 UNITED STATES 00000          0   40024299 0000        0000                 0\n2 ALABAMA       01000          0     733735 0000        0000                 0\n3 Autauga, AL   01001          0       6829 0000        0000                 0\n4 Baldwin, AL   01003          0      16417 0000        0000                 0\n5 Barbour, AL   01005          0       5071 0000        0000                 0\n6 Bibb, AL      01007          0       3557 0000        0000                 0\n# ℹ 35 more variables: EDU010188D &lt;dbl&gt;, EDU010188N1 &lt;chr&gt;, EDU010188N2 &lt;chr&gt;,\n#   EDU010189F &lt;dbl&gt;, EDU010189D &lt;dbl&gt;, EDU010189N1 &lt;chr&gt;, EDU010189N2 &lt;chr&gt;,\n#   EDU010190F &lt;dbl&gt;, EDU010190D &lt;dbl&gt;, EDU010190N1 &lt;chr&gt;, EDU010190N2 &lt;chr&gt;,\n#   EDU010191F &lt;dbl&gt;, EDU010191D &lt;dbl&gt;, EDU010191N1 &lt;chr&gt;, EDU010191N2 &lt;chr&gt;,\n#   EDU010192F &lt;dbl&gt;, EDU010192D &lt;dbl&gt;, EDU010192N1 &lt;chr&gt;, EDU010192N2 &lt;chr&gt;,\n#   EDU010193F &lt;dbl&gt;, EDU010193D &lt;dbl&gt;, EDU010193N1 &lt;chr&gt;, EDU010193N2 &lt;chr&gt;,\n#   EDU010194F &lt;dbl&gt;, EDU010194D &lt;dbl&gt;, EDU010194N1 &lt;chr&gt;, EDU010194N2 &lt;chr&gt;, …\n\n#view(census_1a_original)\n\n\n\n\n\ncensus_1a_condensed &lt;- census_1a_original |&gt;\n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(area_name = Area_name) |&gt;\n  pivot_longer(cols = 3:12, \n               names_to = \"item_id\", \n               values_to = \"measurement\")\nhead(census_1a_condensed) \n\n# A tibble: 6 × 4\n  area_name     STCOU item_id    measurement\n  &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt;\n1 UNITED STATES 00000 EDU010187D    40024299\n2 UNITED STATES 00000 EDU010188D    39967624\n3 UNITED STATES 00000 EDU010189D    40317775\n4 UNITED STATES 00000 EDU010190D    40737600\n5 UNITED STATES 00000 EDU010191D    41385442\n6 UNITED STATES 00000 EDU010192D    42088151\n\n#view(census_1a_condensed)\n\n\n\n\n\ncensus_1a_add &lt;- census_1a_condensed |&gt;\n  mutate(year = (as.numeric(substr(item_id, 8, 9)) + 1900),\n         survey_code = substr(item_id, 1, 7))\ncensus_1a_add\n\n# A tibble: 31,980 × 6\n   area_name     STCOU item_id    measurement  year survey_code\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      \n 1 UNITED STATES 00000 EDU010187D    40024299  1987 EDU0101    \n 2 UNITED STATES 00000 EDU010188D    39967624  1988 EDU0101    \n 3 UNITED STATES 00000 EDU010189D    40317775  1989 EDU0101    \n 4 UNITED STATES 00000 EDU010190D    40737600  1990 EDU0101    \n 5 UNITED STATES 00000 EDU010191D    41385442  1991 EDU0101    \n 6 UNITED STATES 00000 EDU010192D    42088151  1992 EDU0101    \n 7 UNITED STATES 00000 EDU010193D    42724710  1993 EDU0101    \n 8 UNITED STATES 00000 EDU010194D    43369917  1994 EDU0101    \n 9 UNITED STATES 00000 EDU010195D    43993459  1995 EDU0101    \n10 UNITED STATES 00000 EDU010196D    44715737  1996 EDU0101    \n# ℹ 31,970 more rows\n\n\n\n\n\n\ncounty_data &lt;- census_1a_add |&gt;\n  filter(grepl(pattern = \", \\\\w\\\\w\", area_name))\n\nnoncounty_data &lt;- census_1a_add |&gt;\n  filter(!grepl(pattern = \", \\\\w\\\\w\", area_name))\n\nclass(county_data) &lt;- c(\"county\", class(county_data))\nclass(noncounty_data) &lt;- c(\"state\", \n                           class(noncounty_data))"
  },
  {
    "objectID": "ST558Proj1.html#import-data-set-edu01b",
    "href": "ST558Proj1.html#import-data-set-edu01b",
    "title": "ST558 Project 1",
    "section": "Import data set EDU01b",
    "text": "Import data set EDU01b\n\ncensus_1b_original &lt;- read_csv(\"https://www4.stat.ncsu.edu/~online/datasets/EDU01b.csv\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010197N1, EDU010197N2, EDU010198N1, EDU010198...\ndbl (20): EDU010197F, EDU010197D, EDU010198F, EDU010198D, EDU010199F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nhead(census_1b_original)\n\n# A tibble: 6 × 42\n  Area_name     STCOU EDU010197F EDU010197D EDU010197N1 EDU010197N2 EDU010198F\n  &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt;\n1 UNITED STATES 00000          0   44534459 0000        0000                 0\n2 ALABAMA       01000          0     737386 0000        0000                 0\n3 Autauga, AL   01001          0       8099 0000        0000                 0\n4 Baldwin, AL   01003          0      21410 0000        0000                 0\n5 Barbour, AL   01005          0       5100 0000        0000                 0\n6 Bibb, AL      01007          0       3717 0000        0000                 0\n# ℹ 35 more variables: EDU010198D &lt;dbl&gt;, EDU010198N1 &lt;chr&gt;, EDU010198N2 &lt;chr&gt;,\n#   EDU010199F &lt;dbl&gt;, EDU010199D &lt;dbl&gt;, EDU010199N1 &lt;chr&gt;, EDU010199N2 &lt;chr&gt;,\n#   EDU010200F &lt;dbl&gt;, EDU010200D &lt;dbl&gt;, EDU010200N1 &lt;chr&gt;, EDU010200N2 &lt;chr&gt;,\n#   EDU010201F &lt;dbl&gt;, EDU010201D &lt;dbl&gt;, EDU010201N1 &lt;chr&gt;, EDU010201N2 &lt;chr&gt;,\n#   EDU010202F &lt;dbl&gt;, EDU010202D &lt;dbl&gt;, EDU010202N1 &lt;chr&gt;, EDU010202N2 &lt;chr&gt;,\n#   EDU015203F &lt;dbl&gt;, EDU015203D &lt;dbl&gt;, EDU015203N1 &lt;chr&gt;, EDU015203N2 &lt;chr&gt;,\n#   EDU015204F &lt;dbl&gt;, EDU015204D &lt;dbl&gt;, EDU015204N1 &lt;chr&gt;, EDU015204N2 &lt;chr&gt;, …"
  },
  {
    "objectID": "ST558Proj1.html#function-for-steps-1-and-2",
    "href": "ST558Proj1.html#function-for-steps-1-and-2",
    "title": "ST558 Project 1",
    "section": "Function for steps 1 and 2",
    "text": "Function for steps 1 and 2\n\nprocess_data1 &lt;- function(tibble_df, default_var_name = \"measurement\") {\n  tibble_df |&gt;\n    select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n    rename(area_name = Area_name) |&gt;\n    pivot_longer(cols = 3:12, \n                 names_to = \"item_id\", \n                 values_to = default_var_name)\n}\n#test function\nresult_step_1_2 &lt;- process_data1(census_1b_original)\nresult_step_1_2\n\n# A tibble: 31,980 × 4\n   area_name     STCOU item_id    measurement\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt;\n 1 UNITED STATES 00000 EDU010197D    44534459\n 2 UNITED STATES 00000 EDU010198D    46245814\n 3 UNITED STATES 00000 EDU010199D    46368903\n 4 UNITED STATES 00000 EDU010200D    46818690\n 5 UNITED STATES 00000 EDU010201D    47127066\n 6 UNITED STATES 00000 EDU010202D    47606570\n 7 UNITED STATES 00000 EDU015203D    48506317\n 8 UNITED STATES 00000 EDU015204D    48693287\n 9 UNITED STATES 00000 EDU015205D    48978555\n10 UNITED STATES 00000 EDU015206D    49140702\n# ℹ 31,970 more rows"
  },
  {
    "objectID": "ST558Proj1.html#function-for-step-3",
    "href": "ST558Proj1.html#function-for-step-3",
    "title": "ST558 Project 1",
    "section": "Function for step 3",
    "text": "Function for step 3\n\nprocess_data2 &lt;- function(tibble_df) {\n  tibble_df |&gt;\n    mutate(year = (as.numeric(substr(item_id, 8, 9)) + 1900),\n           survey_code = substr(item_id, 1, 7))\n}\nresult_step_3 &lt;- process_data2(result_step_1_2)\nresult_step_3\n\n# A tibble: 31,980 × 6\n   area_name     STCOU item_id    measurement  year survey_code\n   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      \n 1 UNITED STATES 00000 EDU010197D    44534459  1997 EDU0101    \n 2 UNITED STATES 00000 EDU010198D    46245814  1998 EDU0101    \n 3 UNITED STATES 00000 EDU010199D    46368903  1999 EDU0101    \n 4 UNITED STATES 00000 EDU010200D    46818690  1900 EDU0102    \n 5 UNITED STATES 00000 EDU010201D    47127066  1901 EDU0102    \n 6 UNITED STATES 00000 EDU010202D    47606570  1902 EDU0102    \n 7 UNITED STATES 00000 EDU015203D    48506317  1903 EDU0152    \n 8 UNITED STATES 00000 EDU015204D    48693287  1904 EDU0152    \n 9 UNITED STATES 00000 EDU015205D    48978555  1905 EDU0152    \n10 UNITED STATES 00000 EDU015206D    49140702  1906 EDU0152    \n# ℹ 31,970 more rows"
  }
]